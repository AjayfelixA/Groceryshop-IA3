{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\f_aja\\\\OneDrive\\\\Documents\\\\IA3 WEB PROJECT\\\\frontend\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart') || '[]'));\n  function removeItem(idx) {\n    const c = [...cart];\n    c.splice(idx, 1);\n    setCart(c);\n    localStorage.setItem('cart', JSON.stringify(c));\n  }\n  async function checkout() {\n    const token = localStorage.getItem('token');\n    const totalPrice = cart.reduce((s, i) => s + i.price * i.qty, 0);\n    const res = await fetch('http://localhost:5000/api/orders', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: token ? `Bearer ${token}` : ''\n      },\n      body: JSON.stringify({\n        orderItems: cart.map(i => ({\n          product: i.product,\n          name: i.name,\n          qty: i.qty,\n          price: i.price\n        })),\n        totalPrice\n      })\n    });\n    if (res.ok) {\n      localStorage.removeItem('cart');\n      setCart([]);\n      alert('Order placed');\n    } else {\n      const err = await res.json();\n      alert(err.message || 'Order failed');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cart empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 28\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [cart.map((it, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderBottom: '1px solid #ddd',\n          padding: '8px 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: it.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 15\n        }, this), \" x \", it.qty, \" \\u2014 $\", it.price, /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginLeft: 8\n          },\n          onClick: () => removeItem(idx),\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 15\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"Total: $\", cart.reduce((s, i) => s + i.price * i.qty, 0).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: checkout,\n            children: \"Checkout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"5kjecLkDBuSesCmL2dBbaSPe7e0=\");\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Cart","_s","cart","setCart","JSON","parse","localStorage","getItem","removeItem","idx","c","splice","setItem","stringify","checkout","token","totalPrice","reduce","s","i","price","qty","res","fetch","method","headers","Authorization","body","orderItems","map","product","name","ok","alert","err","json","message","children","fileName","_jsxFileName","lineNumber","columnNumber","length","it","style","borderBottom","padding","marginLeft","onClick","marginTop","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/f_aja/OneDrive/Documents/IA3 WEB PROJECT/frontend/src/pages/Cart.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nexport default function Cart() {\r\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart') || '[]'));\r\n\r\n  function removeItem(idx) {\r\n    const c = [...cart]; c.splice(idx, 1); setCart(c); localStorage.setItem('cart', JSON.stringify(c));\r\n  }\r\n\r\n  async function checkout() {\r\n    const token = localStorage.getItem('token');\r\n    const totalPrice = cart.reduce((s, i) => s + i.price * i.qty, 0);\r\n    const res = await fetch('http://localhost:5000/api/orders', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json', Authorization: token ? `Bearer ${token}` : '' },\r\n      body: JSON.stringify({ orderItems: cart.map(i => ({ product: i.product, name: i.name, qty: i.qty, price: i.price })), totalPrice })\r\n    });\r\n    if (res.ok) { localStorage.removeItem('cart'); setCart([]); alert('Order placed'); }\r\n    else { const err = await res.json(); alert(err.message || 'Order failed'); }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Cart</h2>\r\n      {cart.length === 0 ? <p>Cart empty</p> : (\r\n        <div>\r\n          {cart.map((it, idx) => (\r\n            <div key={idx} style={{ borderBottom: '1px solid #ddd', padding: '8px 0' }}>\r\n              <strong>{it.name}</strong> x {it.qty} â€” ${it.price}\r\n              <button style={{ marginLeft: 8 }} onClick={() => removeItem(idx)}>Remove</button>\r\n            </div>\r\n          ))}\r\n          <div style={{ marginTop: 12 }}>\r\n            <strong>Total: ${cart.reduce((s, i) => s + i.price * i.qty, 0).toFixed(2)}</strong>\r\n            <div style={{ marginTop: 8 }}>\r\n              <button onClick={checkout}>Checkout</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}